import * as api from './apiFunctions.js';
import * as json from './jsonFunctions.js';
import { renderCurrentWeather, RenderWeather } from './dom/currentWeather.js';
import { RenderForecast } from './dom/forecastWeather.js';

const dataJson = {
  coord: {
    lon: -79.9959,
    lat: 40.4406,
  },
  weather: [
    {
      id: 804,
      main: 'Clouds',
      description: 'overcast clouds',
      icon: '04n',
    },
  ],
  base: 'stations',
  main: {
    temp: 286.29,
    feels_like: 284.7,
    temp_min: 284.9,
    temp_max: 287.25,
    pressure: 1009,
    humidity: 40,
  },
  visibility: 10000,
  wind: {
    speed: 3.6,
    deg: 160,
  },
  clouds: {
    all: 90,
  },
  dt: 1640383703,
  sys: {
    type: 1,
    id: 3247,
    country: 'US',
    sunrise: 1640349670,
    sunset: 1640383087,
  },
  timezone: -18000,
  id: 5206379,
  name: 'Pittsburgh',
  cod: 200,
};

const jsonForecastData = {
  lat: 40.4406,
  lon: -79.9959,
  timezone: 'America/New_York',
  timezone_offset: -18000,
  hourly: [
    {
      dt: 1639764000,
      temp: 280.98,
      feels_like: 279.73,
      pressure: 1023,
      humidity: 49,
      dew_point: 271.2,
      uvi: 1.49,
      clouds: 1,
      visibility: 10000,
      wind_speed: 2.09,
      wind_deg: 265,
      wind_gust: 3.44,
      weather: [
        {
          id: 800,
          main: 'Clear',
          description: 'clear sky',
          icon: '01d',
        },
      ],
      pop: 0,
    },
    {
      dt: 1639767600,
      temp: 281.06,
      feels_like: 280.03,
      pressure: 1023,
      humidity: 46,
      dew_point: 270.51,
      uvi: 0.9,
      clouds: 21,
      visibility: 10000,
      wind_speed: 1.87,
      wind_deg: 268,
      wind_gust: 2.94,
      weather: [
        {
          id: 801,
          main: 'Clouds',
          description: 'few clouds',
          icon: '02d',
        },
      ],
      pop: 0,
    },
    {
      dt: 1639771200,
      temp: 281.1,
      feels_like: 280.46,
      pressure: 1023,
      humidity: 43,
      dew_point: 269.74,
      uvi: 0.48,
      clouds: 41,
      visibility: 10000,
      wind_speed: 1.5,
      wind_deg: 273,
      wind_gust: 2.31,
      weather: [
        {
          id: 802,
          main: 'Clouds',
          description: 'scattered clouds',
          icon: '03d',
        },
      ],
      pop: 0,
    },
    {
      dt: 1639774800,
      temp: 280.94,
      feels_like: 280.47,
      pressure: 1024,
      humidity: 43,
      dew_point: 269.61,
      uvi: 0.16,
      clouds: 60,
      visibility: 10000,
      wind_speed: 1.34,
      wind_deg: 296,
      wind_gust: 2.02,
      weather: [
        {
          id: 803,
          main: 'Clouds',
          description: 'broken clouds',
          icon: '04d',
        },
      ],
      pop: 0,
    },
    {
      dt: 1639778400,
      temp: 280.28,
      feels_like: 280.28,
      pressure: 1024,
      humidity: 42,
      dew_point: 268.8,
      uvi: 0,
      clouds: 80,
      visibility: 10000,
      wind_speed: 0.83,
      wind_deg: 330,
      wind_gust: 1.06,
      weather: [
        {
          id: 803,
          main: 'Clouds',
          description: 'broken clouds',
          icon: '04n',
        },
      ],
      pop: 0,
    },
    {
      dt: 1639782000,
      temp: 279.91,
      feels_like: 279.91,
      pressure: 1024,
      humidity: 43,
      dew_point: 267.67,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 1.12,
      wind_deg: 356,
      wind_gust: 1.48,
      weather: [
        {
          id: 804,
          main: 'Clouds',
          description: 'overcast clouds',
          icon: '04n',
        },
      ],
      pop: 0,
    },
    {
      dt: 1639785600,
      temp: 279.64,
      feels_like: 279.64,
      pressure: 1024,
      humidity: 44,
      dew_point: 267.87,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 1.32,
      wind_deg: 28,
      wind_gust: 1.74,
      weather: [
        {
          id: 804,
          main: 'Clouds',
          description: 'overcast clouds',
          icon: '04n',
        },
      ],
      pop: 0,
    },
    {
      dt: 1639789200,
      temp: 279.4,
      feels_like: 279.4,
      pressure: 1025,
      humidity: 46,
      dew_point: 268.13,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 1.25,
      wind_deg: 43,
      wind_gust: 1.82,
      weather: [
        {
          id: 804,
          main: 'Clouds',
          description: 'overcast clouds',
          icon: '04n',
        },
      ],
      pop: 0,
    },
    {
      dt: 1639792800,
      temp: 279.2,
      feels_like: 278.11,
      pressure: 1024,
      humidity: 47,
      dew_point: 268.31,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 1.65,
      wind_deg: 62,
      wind_gust: 2.56,
      weather: [
        {
          id: 804,
          main: 'Clouds',
          description: 'overcast clouds',
          icon: '04n',
        },
      ],
      pop: 0,
    },
    {
      dt: 1639796400,
      temp: 279.2,
      feels_like: 277.85,
      pressure: 1023,
      humidity: 48,
      dew_point: 268.54,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 1.89,
      wind_deg: 77,
      wind_gust: 3.17,
      weather: [
        {
          id: 804,
          main: 'Clouds',
          description: 'overcast clouds',
          icon: '04n',
        },
      ],
      pop: 0,
    },
    {
      dt: 1639800000,
      temp: 279.24,
      feels_like: 277.61,
      pressure: 1023,
      humidity: 49,
      dew_point: 268.81,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 2.19,
      wind_deg: 31,
      wind_gust: 3.95,
      weather: [
        {
          id: 804,
          main: 'Clouds',
          description: 'overcast clouds',
          icon: '04n',
        },
      ],
      pop: 0,
    },
    {
      dt: 1639803600,
      temp: 279.1,
      feels_like: 277.72,
      pressure: 1022,
      humidity: 50,
      dew_point: 268.99,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 1.91,
      wind_deg: 46,
      wind_gust: 3.57,
      weather: [
        {
          id: 804,
          main: 'Clouds',
          description: 'overcast clouds',
          icon: '04n',
        },
      ],
      pop: 0,
    },
    {
      dt: 1639807200,
      temp: 278.67,
      feels_like: 276.8,
      pressure: 1022,
      humidity: 54,
      dew_point: 269.84,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 2.34,
      wind_deg: 59,
      wind_gust: 4.45,
      weather: [
        {
          id: 500,
          main: 'Rain',
          description: 'light rain',
          icon: '10n',
        },
      ],
      pop: 0.36,
      rain: {
        '1h': 0.17,
      },
    },
    {
      dt: 1639810800,
      temp: 277.88,
      feels_like: 275.94,
      pressure: 1021,
      humidity: 66,
      dew_point: 271.78,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 2.27,
      wind_deg: 76,
      wind_gust: 4.74,
      weather: [
        {
          id: 500,
          main: 'Rain',
          description: 'light rain',
          icon: '10n',
        },
      ],
      pop: 0.94,
      rain: {
        '1h': 0.82,
      },
    },
    {
      dt: 1639814400,
      temp: 277.32,
      feels_like: 275.01,
      pressure: 1021,
      humidity: 76,
      dew_point: 273.06,
      uvi: 0,
      clouds: 100,
      visibility: 9539,
      wind_speed: 2.56,
      wind_deg: 80,
      wind_gust: 4.68,
      weather: [
        {
          id: 501,
          main: 'Rain',
          description: 'moderate rain',
          icon: '10n',
        },
      ],
      pop: 0.94,
      rain: {
        '1h': 1.15,
      },
    },
    {
      dt: 1639818000,
      temp: 277.32,
      feels_like: 275.28,
      pressure: 1020,
      humidity: 79,
      dew_point: 273.69,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 2.27,
      wind_deg: 57,
      wind_gust: 3.55,
      weather: [
        {
          id: 500,
          main: 'Rain',
          description: 'light rain',
          icon: '10n',
        },
      ],
      pop: 0.94,
      rain: {
        '1h': 0.45,
      },
    },
    {
      dt: 1639821600,
      temp: 277.3,
      feels_like: 274.54,
      pressure: 1018,
      humidity: 83,
      dew_point: 274.24,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 3.13,
      wind_deg: 91,
      wind_gust: 5.42,
      weather: [
        {
          id: 500,
          main: 'Rain',
          description: 'light rain',
          icon: '10n',
        },
      ],
      pop: 0.87,
      rain: {
        '1h': 0.28,
      },
    },
    {
      dt: 1639825200,
      temp: 277.61,
      feels_like: 276.09,
      pressure: 1017,
      humidity: 85,
      dew_point: 274.9,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 1.82,
      wind_deg: 101,
      wind_gust: 3.5,
      weather: [
        {
          id: 804,
          main: 'Clouds',
          description: 'overcast clouds',
          icon: '04n',
        },
      ],
      pop: 0.87,
    },
    {
      dt: 1639828800,
      temp: 278.04,
      feels_like: 276.58,
      pressure: 1017,
      humidity: 87,
      dew_point: 275.66,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 1.82,
      wind_deg: 134,
      wind_gust: 3.84,
      weather: [
        {
          id: 804,
          main: 'Clouds',
          description: 'overcast clouds',
          icon: '04n',
        },
      ],
      pop: 0.8,
    },
    {
      dt: 1639832400,
      temp: 278.46,
      feels_like: 276.85,
      pressure: 1016,
      humidity: 90,
      dew_point: 276.65,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 2.03,
      wind_deg: 126,
      wind_gust: 4.8,
      weather: [
        {
          id: 500,
          main: 'Rain',
          description: 'light rain',
          icon: '10d',
        },
      ],
      pop: 0.92,
      rain: {
        '1h': 0.5,
      },
    },
    {
      dt: 1639836000,
      temp: 279.07,
      feels_like: 277.32,
      pressure: 1015,
      humidity: 94,
      dew_point: 277.76,
      uvi: 0.02,
      clouds: 100,
      visibility: 10000,
      wind_speed: 2.29,
      wind_deg: 136,
      wind_gust: 7.33,
      weather: [
        {
          id: 501,
          main: 'Rain',
          description: 'moderate rain',
          icon: '10d',
        },
      ],
      pop: 0.98,
      rain: {
        '1h': 1.02,
      },
    },
    {
      dt: 1639839600,
      temp: 280.27,
      feels_like: 278.13,
      pressure: 1013,
      humidity: 96,
      dew_point: 279.35,
      uvi: 0.07,
      clouds: 100,
      visibility: 10000,
      wind_speed: 3.11,
      wind_deg: 165,
      wind_gust: 14.31,
      weather: [
        {
          id: 500,
          main: 'Rain',
          description: 'light rain',
          icon: '10d',
        },
      ],
      pop: 0.97,
      rain: {
        '1h': 0.77,
      },
    },
    {
      dt: 1639843200,
      temp: 282.29,
      feels_like: 280.6,
      pressure: 1013,
      humidity: 98,
      dew_point: 281.57,
      uvi: 0.1,
      clouds: 100,
      visibility: 8694,
      wind_speed: 3.04,
      wind_deg: 193,
      wind_gust: 13.94,
      weather: [
        {
          id: 500,
          main: 'Rain',
          description: 'light rain',
          icon: '10d',
        },
      ],
      pop: 0.97,
      rain: {
        '1h': 1,
      },
    },
    {
      dt: 1639846800,
      temp: 283.68,
      feels_like: 283.32,
      pressure: 1011,
      humidity: 97,
      dew_point: 282.88,
      uvi: 0.12,
      clouds: 100,
      visibility: 5733,
      wind_speed: 3.05,
      wind_deg: 204,
      wind_gust: 13.83,
      weather: [
        {
          id: 501,
          main: 'Rain',
          description: 'moderate rain',
          icon: '10d',
        },
      ],
      pop: 0.99,
      rain: {
        '1h': 2.21,
      },
    },
    {
      dt: 1639850400,
      temp: 285.38,
      feels_like: 285.17,
      pressure: 1009,
      humidity: 96,
      dew_point: 284.29,
      uvi: 0.11,
      clouds: 100,
      visibility: 10000,
      wind_speed: 3.99,
      wind_deg: 221,
      wind_gust: 13.52,
      weather: [
        {
          id: 501,
          main: 'Rain',
          description: 'moderate rain',
          icon: '10d',
        },
      ],
      pop: 0.97,
      rain: {
        '1h': 1.17,
      },
    },
    {
      dt: 1639854000,
      temp: 285.87,
      feels_like: 285.7,
      pressure: 1008,
      humidity: 96,
      dew_point: 284.89,
      uvi: 0.11,
      clouds: 100,
      visibility: 6269,
      wind_speed: 3.93,
      wind_deg: 230,
      wind_gust: 13.16,
      weather: [
        {
          id: 501,
          main: 'Rain',
          description: 'moderate rain',
          icon: '10d',
        },
      ],
      pop: 0.95,
      rain: {
        '1h': 1.58,
      },
    },
    {
      dt: 1639857600,
      temp: 286.15,
      feels_like: 285.99,
      pressure: 1008,
      humidity: 95,
      dew_point: 284.91,
      uvi: 0.06,
      clouds: 100,
      visibility: 8996,
      wind_speed: 3.94,
      wind_deg: 245,
      wind_gust: 12.97,
      weather: [
        {
          id: 501,
          main: 'Rain',
          description: 'moderate rain',
          icon: '10d',
        },
      ],
      pop: 0.96,
      rain: {
        '1h': 1.58,
      },
    },
    {
      dt: 1639861200,
      temp: 286.04,
      feels_like: 285.84,
      pressure: 1008,
      humidity: 94,
      dew_point: 284.78,
      uvi: 0.02,
      clouds: 100,
      visibility: 10000,
      wind_speed: 3.56,
      wind_deg: 248,
      wind_gust: 12.77,
      weather: [
        {
          id: 500,
          main: 'Rain',
          description: 'light rain',
          icon: '10d',
        },
      ],
      pop: 1,
      rain: {
        '1h': 0.99,
      },
    },
    {
      dt: 1639864800,
      temp: 286.03,
      feels_like: 285.85,
      pressure: 1008,
      humidity: 95,
      dew_point: 284.9,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 3.87,
      wind_deg: 242,
      wind_gust: 12.26,
      weather: [
        {
          id: 500,
          main: 'Rain',
          description: 'light rain',
          icon: '10n',
        },
      ],
      pop: 1,
      rain: {
        '1h': 0.2,
      },
    },
    {
      dt: 1639868400,
      temp: 285.1,
      feels_like: 284.81,
      pressure: 1010,
      humidity: 94,
      dew_point: 283.75,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 5.18,
      wind_deg: 289,
      wind_gust: 10.5,
      weather: [
        {
          id: 501,
          main: 'Rain',
          description: 'moderate rain',
          icon: '10n',
        },
      ],
      pop: 1,
      rain: {
        '1h': 1.02,
      },
    },
    {
      dt: 1639872000,
      temp: 281.45,
      feels_like: 278.58,
      pressure: 1012,
      humidity: 87,
      dew_point: 278.98,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 5.09,
      wind_deg: 294,
      wind_gust: 12.63,
      weather: [
        {
          id: 500,
          main: 'Rain',
          description: 'light rain',
          icon: '10n',
        },
      ],
      pop: 1,
      rain: {
        '1h': 0.29,
      },
    },
    {
      dt: 1639875600,
      temp: 279.85,
      feels_like: 276.74,
      pressure: 1014,
      humidity: 85,
      dew_point: 277.13,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 4.71,
      wind_deg: 299,
      wind_gust: 11.16,
      weather: [
        {
          id: 804,
          main: 'Clouds',
          description: 'overcast clouds',
          icon: '04n',
        },
      ],
      pop: 0.15,
    },
    {
      dt: 1639879200,
      temp: 278.96,
      feels_like: 275.72,
      pressure: 1015,
      humidity: 85,
      dew_point: 276.24,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 4.54,
      wind_deg: 302,
      wind_gust: 10.59,
      weather: [
        {
          id: 804,
          main: 'Clouds',
          description: 'overcast clouds',
          icon: '04n',
        },
      ],
      pop: 0.1,
    },
    {
      dt: 1639882800,
      temp: 278.07,
      feels_like: 274.62,
      pressure: 1016,
      humidity: 84,
      dew_point: 275.2,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 4.54,
      wind_deg: 315,
      wind_gust: 9.62,
      weather: [
        {
          id: 804,
          main: 'Clouds',
          description: 'overcast clouds',
          icon: '04n',
        },
      ],
      pop: 0.06,
    },
    {
      dt: 1639886400,
      temp: 277.26,
      feels_like: 273.7,
      pressure: 1017,
      humidity: 82,
      dew_point: 274.16,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 4.37,
      wind_deg: 316,
      wind_gust: 8.8,
      weather: [
        {
          id: 804,
          main: 'Clouds',
          description: 'overcast clouds',
          icon: '04n',
        },
      ],
      pop: 0.06,
    },
    {
      dt: 1639890000,
      temp: 277.04,
      feels_like: 273.65,
      pressure: 1017,
      humidity: 79,
      dew_point: 273.34,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 3.99,
      wind_deg: 317,
      wind_gust: 7.52,
      weather: [
        {
          id: 804,
          main: 'Clouds',
          description: 'overcast clouds',
          icon: '04n',
        },
      ],
      pop: 0.06,
    },
    {
      dt: 1639893600,
      temp: 276.61,
      feels_like: 273.07,
      pressure: 1018,
      humidity: 74,
      dew_point: 272.01,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 4.08,
      wind_deg: 324,
      wind_gust: 7.26,
      weather: [
        {
          id: 804,
          main: 'Clouds',
          description: 'overcast clouds',
          icon: '04n',
        },
      ],
      pop: 0.06,
    },
    {
      dt: 1639897200,
      temp: 276.36,
      feels_like: 273.05,
      pressure: 1019,
      humidity: 73,
      dew_point: 271.7,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 3.63,
      wind_deg: 327,
      wind_gust: 6.44,
      weather: [
        {
          id: 804,
          main: 'Clouds',
          description: 'overcast clouds',
          icon: '04n',
        },
      ],
      pop: 0.09,
    },
    {
      dt: 1639900800,
      temp: 275.89,
      feels_like: 272.54,
      pressure: 1020,
      humidity: 76,
      dew_point: 271.8,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 3.54,
      wind_deg: 333,
      wind_gust: 6.38,
      weather: [
        {
          id: 804,
          main: 'Clouds',
          description: 'overcast clouds',
          icon: '04n',
        },
      ],
      pop: 0,
    },
    {
      dt: 1639904400,
      temp: 275.09,
      feels_like: 271.33,
      pressure: 1020,
      humidity: 78,
      dew_point: 271.28,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 3.88,
      wind_deg: 337,
      wind_gust: 7.11,
      weather: [
        {
          id: 804,
          main: 'Clouds',
          description: 'overcast clouds',
          icon: '04n',
        },
      ],
      pop: 0.01,
    },
    {
      dt: 1639908000,
      temp: 274.61,
      feels_like: 270.7,
      pressure: 1021,
      humidity: 76,
      dew_point: 270.45,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 3.94,
      wind_deg: 343,
      wind_gust: 6.95,
      weather: [
        {
          id: 804,
          main: 'Clouds',
          description: 'overcast clouds',
          icon: '04n',
        },
      ],
      pop: 0.01,
    },
    {
      dt: 1639911600,
      temp: 274.39,
      feels_like: 270.48,
      pressure: 1022,
      humidity: 73,
      dew_point: 269.76,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 3.86,
      wind_deg: 345,
      wind_gust: 6.87,
      weather: [
        {
          id: 804,
          main: 'Clouds',
          description: 'overcast clouds',
          icon: '04n',
        },
      ],
      pop: 0.01,
    },
    {
      dt: 1639915200,
      temp: 274.42,
      feels_like: 270.44,
      pressure: 1023,
      humidity: 68,
      dew_point: 268.83,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 3.98,
      wind_deg: 349,
      wind_gust: 6.55,
      weather: [
        {
          id: 804,
          main: 'Clouds',
          description: 'overcast clouds',
          icon: '04n',
        },
      ],
      pop: 0.02,
    },
    {
      dt: 1639918800,
      temp: 274.32,
      feels_like: 270.45,
      pressure: 1024,
      humidity: 65,
      dew_point: 268.03,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 3.79,
      wind_deg: 351,
      wind_gust: 6.14,
      weather: [
        {
          id: 804,
          main: 'Clouds',
          description: 'overcast clouds',
          icon: '04d',
        },
      ],
      pop: 0,
    },
    {
      dt: 1639922400,
      temp: 274.34,
      feels_like: 270.61,
      pressure: 1025,
      humidity: 63,
      dew_point: 267.8,
      uvi: 0.27,
      clouds: 99,
      visibility: 10000,
      wind_speed: 3.59,
      wind_deg: 349,
      wind_gust: 5.85,
      weather: [
        {
          id: 804,
          main: 'Clouds',
          description: 'overcast clouds',
          icon: '04d',
        },
      ],
      pop: 0,
    },
    {
      dt: 1639926000,
      temp: 274.61,
      feels_like: 270.82,
      pressure: 1025,
      humidity: 62,
      dew_point: 267.69,
      uvi: 0.69,
      clouds: 96,
      visibility: 10000,
      wind_speed: 3.76,
      wind_deg: 346,
      wind_gust: 5.74,
      weather: [
        {
          id: 804,
          main: 'Clouds',
          description: 'overcast clouds',
          icon: '04d',
        },
      ],
      pop: 0,
    },
    {
      dt: 1639929600,
      temp: 274.96,
      feels_like: 271.17,
      pressure: 1026,
      humidity: 60,
      dew_point: 267.67,
      uvi: 0.86,
      clouds: 97,
      visibility: 10000,
      wind_speed: 3.88,
      wind_deg: 343,
      wind_gust: 5.65,
      weather: [
        {
          id: 804,
          main: 'Clouds',
          description: 'overcast clouds',
          icon: '04d',
        },
      ],
      pop: 0,
    },
    {
      dt: 1639933200,
      temp: 275.22,
      feels_like: 271.62,
      pressure: 1025,
      humidity: 58,
      dew_point: 267.58,
      uvi: 1.06,
      clouds: 98,
      visibility: 10000,
      wind_speed: 3.68,
      wind_deg: 341,
      wind_gust: 5.41,
      weather: [
        {
          id: 804,
          main: 'Clouds',
          description: 'overcast clouds',
          icon: '04d',
        },
      ],
      pop: 0,
    },
  ],
  daily: [
    {
      dt: 1639760400,
      sunrise: 1639744658,
      sunset: 1639778096,
      moonrise: 1639774140,
      moonset: 1639739700,
      moon_phase: 0.46,
      temp: {
        day: 280.86,
        min: 276.65,
        max: 283.79,
        night: 279.24,
        eve: 279.91,
        morn: 277.75,
      },
      feels_like: {
        day: 279.43,
        night: 277.61,
        eve: 279.91,
        morn: 275.09,
      },
      pressure: 1023,
      humidity: 46,
      dew_point: 270.34,
      wind_speed: 4.69,
      wind_deg: 271,
      wind_gust: 12.6,
      weather: [
        {
          id: 801,
          main: 'Clouds',
          description: 'few clouds',
          icon: '02d',
        },
      ],
      clouds: 19,
      pop: 0.11,
      uvi: 1.56,
    },
    {
      dt: 1639846800,
      sunrise: 1639831094,
      sunset: 1639864517,
      moonrise: 1639862880,
      moonset: 1639829700,
      moon_phase: 0.5,
      temp: {
        day: 283.68,
        min: 277.26,
        max: 286.15,
        night: 277.26,
        eve: 285.1,
        morn: 277.61,
      },
      feels_like: {
        day: 283.32,
        night: 273.7,
        eve: 284.81,
        morn: 276.09,
      },
      pressure: 1011,
      humidity: 97,
      dew_point: 282.88,
      wind_speed: 5.18,
      wind_deg: 289,
      wind_gust: 14.31,
      weather: [
        {
          id: 501,
          main: 'Rain',
          description: 'moderate rain',
          icon: '10d',
        },
      ],
      clouds: 100,
      pop: 1,
      rain: 15.2,
      uvi: 0.12,
    },
    {
      dt: 1639933200,
      sunrise: 1639917528,
      sunset: 1639950940,
      moonrise: 1639952040,
      moonset: 1639919520,
      moon_phase: 0.52,
      temp: {
        day: 275.22,
        min: 272.76,
        max: 277.04,
        night: 272.76,
        eve: 274.67,
        morn: 274.39,
      },
      feels_like: {
        day: 271.62,
        night: 272.76,
        eve: 272.55,
        morn: 270.48,
      },
      pressure: 1025,
      humidity: 58,
      dew_point: 267.58,
      wind_speed: 4.08,
      wind_deg: 324,
      wind_gust: 7.52,
      weather: [
        {
          id: 804,
          main: 'Clouds',
          description: 'overcast clouds',
          icon: '04d',
        },
      ],
      clouds: 98,
      pop: 0.09,
      uvi: 1.06,
    },
    {
      dt: 1640019600,
      sunrise: 1640003961,
      sunset: 1640037366,
      moonrise: 1640041560,
      moonset: 1640009040,
      moon_phase: 0.55,
      temp: {
        day: 278.75,
        min: 272.03,
        max: 279.01,
        night: 274.64,
        eve: 276,
        morn: 272.11,
      },
      feels_like: {
        day: 276.74,
        night: 271.94,
        eve: 273.51,
        morn: 270.1,
      },
      pressure: 1023,
      humidity: 41,
      dew_point: 266.3,
      wind_speed: 2.53,
      wind_deg: 216,
      wind_gust: 8.67,
      weather: [
        {
          id: 800,
          main: 'Clear',
          description: 'clear sky',
          icon: '01d',
        },
      ],
      clouds: 3,
      pop: 0,
      uvi: 1.66,
    },
    {
      dt: 1640106000,
      sunrise: 1640090391,
      sunset: 1640123793,
      moonrise: 1640131500,
      moonset: 1640098140,
      moon_phase: 0.58,
      temp: {
        day: 277.83,
        min: 272.57,
        max: 277.83,
        night: 274.01,
        eve: 274.98,
        morn: 272.57,
      },
      feels_like: {
        day: 277.83,
        night: 272.36,
        eve: 273.44,
        morn: 270.37,
      },
      pressure: 1021,
      humidity: 56,
      dew_point: 269.52,
      wind_speed: 2.61,
      wind_deg: 240,
      wind_gust: 9.85,
      weather: [
        {
          id: 801,
          main: 'Clouds',
          description: 'few clouds',
          icon: '02d',
        },
      ],
      clouds: 13,
      pop: 0,
      uvi: 1.69,
    },
    {
      dt: 1640192400,
      sunrise: 1640176819,
      sunset: 1640210222,
      moonrise: 1640221620,
      moonset: 1640186880,
      moon_phase: 0.61,
      temp: {
        day: 279.31,
        min: 271.21,
        max: 279.31,
        night: 271.21,
        eve: 273.09,
        morn: 273.19,
      },
      feels_like: {
        day: 275.9,
        night: 267.4,
        eve: 268.7,
        morn: 269.99,
      },
      pressure: 1012,
      humidity: 50,
      dew_point: 269.4,
      wind_speed: 5.09,
      wind_deg: 264,
      wind_gust: 11.58,
      weather: [
        {
          id: 800,
          main: 'Clear',
          description: 'clear sky',
          icon: '01d',
        },
      ],
      clouds: 10,
      pop: 0,
      uvi: 2,
    },
    {
      dt: 1640278800,
      sunrise: 1640263246,
      sunset: 1640296654,
      moonrise: 1640311860,
      moonset: 1640275260,
      moon_phase: 0.64,
      temp: {
        day: 273.07,
        min: 270.01,
        max: 273.41,
        night: 271.3,
        eve: 271.72,
        morn: 270.01,
      },
      feels_like: {
        day: 269.63,
        night: 267.79,
        eve: 268.99,
        morn: 267.04,
      },
      pressure: 1020,
      humidity: 46,
      dew_point: 262.54,
      wind_speed: 2.92,
      wind_deg: 289,
      wind_gust: 5.84,
      weather: [
        {
          id: 804,
          main: 'Clouds',
          description: 'overcast clouds',
          icon: '04d',
        },
      ],
      clouds: 100,
      pop: 0,
      uvi: 2,
    },
    {
      dt: 1640365200,
      sunrise: 1640349670,
      sunset: 1640383087,
      moonrise: 1640402100,
      moonset: 1640363400,
      moon_phase: 0.67,
      temp: {
        day: 272.77,
        min: 269.92,
        max: 272.89,
        night: 271.58,
        eve: 272.35,
        morn: 269.95,
      },
      feels_like: {
        day: 271.16,
        night: 267.17,
        eve: 269.5,
        morn: 269.95,
      },
      pressure: 1021,
      humidity: 50,
      dew_point: 263.32,
      wind_speed: 3.7,
      wind_deg: 97,
      wind_gust: 8.65,
      weather: [
        {
          id: 600,
          main: 'Snow',
          description: 'light snow',
          icon: '13d',
        },
      ],
      clouds: 100,
      pop: 0.69,
      snow: 1.01,
      uvi: 2,
    },
  ],
};

let currentWeather = new RenderWeather(
  json.processWeatherData(dataJson),
  '.weather-container',
  true,
);

let forecastWeather = new RenderForecast(
  json.processForecastData(jsonForecastData),
  '.weather-forecast-cards',
  false,
  true,
);

function clearCurrentWeather() {
  const container = document.querySelector('.weather-container');
  container.innerHTML = '';
}

function clearForecastWeather() {
  const container = document.querySelector('.weather-forecast-cards');
  container.innerHTML = '';
}

function clearWeather() {
  clearCurrentWeather();
  clearForecastWeather();
}

function renderWeather() {
  currentWeather.render();
  forecastWeather.render();
}

function setUnits(isMetric) {
  if (isMetric) {
    currentWeather.isMetric = true;
    forecastWeather.isMetric = true;
  } else {
    currentWeather.isMetric = false;
    forecastWeather.isMetric = false;
  }
  clearWeather();
  renderWeather();
}

function switchForecast(isHourly) {
  if (isHourly) {
    forecastWeather.isHourly = true;
  } else {
    forecastWeather.isHourly = false;
  }
  clearForecastWeather();
  forecastWeather.render();
}

async function getWeatherForLocation(locationName) {
  let weatherJson = await api.fetchWeather(api.currentWeatherUrl(locationName));
  let weatherData = json.processWeatherData(weatherJson);

  let forecastJson = await api.fetchWeather(
    api.forecastWeatherUrl(weatherData.lat, weatherData.lon),
  );

  currentWeather = new RenderWeather(weatherData, '.weather-container', true);

  forecastWeather = new RenderForecast(
    json.processForecastData(forecastJson),
    '.weather-forecast-cards',
    false,
    true,
  );
}

async function findWeather(evt) {
  clearWeather();
  let locationValue = document.querySelector('.search-box-input').value;
  if (locationValue) {
    await getWeatherForLocation(locationValue);
  }
  renderWeather();
}

async function renderInitialWeather() {
  await getWeatherForLocation('London');
  renderWeather();
}

function init() {
  //renderInitialWeather();
  renderWeather();
  document.getElementById('search-btn').addEventListener('click', findWeather);
  document
    .getElementById('metric-btn')
    .addEventListener('click', (event) => setUnits(true));
  document
    .getElementById('imperial-btn')
    .addEventListener('click', (event) => setUnits(false));

  document
    .getElementById('daily-btn')
    .addEventListener('click', (event) => switchForecast(false));
  document
    .getElementById('hourly-btn')
    .addEventListener('click', (event) => switchForecast(true));
}

export { init };
